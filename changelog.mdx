---
title: "Changelog"
mode: "center"
---
<Update label="Abril 2025 - 2.0.83" description="Invenio Live e Center.">
### üòé Filtro de Usu√°rios por Grupo de Acesso.
Agora, no menu **Usu√°rios ‚Üí Usu√°rios ‚Üí Filtrar**, √© poss√≠vel **filtrar usu√°rios com base em seus Grupos de Acesso**, como

- Administrador 
- Atendente 
- Supervisor 
- Integra√ß√£o API 
- IDR Studio 
- Carteiro Digital 

Essa funcionalidade **facilita pesquisas e a gest√£o de perfis**, permitindo uma **visualiza√ß√£o r√°pida e precisa**
dos usu√°rios por categoria. Com isso, a an√°lise e a tomada de decis√£o tornam-se **mais √°geis e eficientes**.  
</Update>

<Update label="Mar√ßo 2025 - 2.0.83 2.0.48" description="Invenio Live e Center.">
### üòé Notifica√ß√µes Autom√°ticas para Atualiza√ß√µes de Template da Meta WhatsApp.
## Melhoria na Integra√ß√£o com o Meta WhatsApp

Temos o prazer de anunciar uma melhoria significativa em nossa integra√ß√£o com o Meta WhatsApp.

Implementamos uma regra de notifica√ß√£o no webhook de atualiza√ß√£o de template que, automaticamente, dispara um e-mail aos 
respons√°veis financeiros do cliente sempre que ocorre uma altera√ß√£o na categoria que aciona o webhook.

Essa inova√ß√£o assegura que todas as mudan√ßas cr√≠ticas sejam comunicadas de forma imediata, promovendo maior transpar√™ncia e otimizando a gest√£o dos templates.

Com essa atualiza√ß√£o, reafirmamos nosso compromisso com a efici√™ncia e a melhoria cont√≠nua dos nossos servi√ßos.


### üòé **[LIVE] Ordena√ß√£o Personalizada de Mensagens e Eventos por UTC do Usu√°rio.** 
Com o Invenio Live, a experi√™ncia do usu√°rio foi aprimorada. Agora, a ordena√ß√£o das mensagens e eventos √© realizada de 
acordo com o fuso hor√°rio (UTC) definido no perfil de cada usu√°rio, garantindo que todas as intera√ß√µes sejam exibidas 
de forma precisa e personalizada. Essa melhoria assegura que os atendimentos e contatos reflitam o hor√°rio correto, 
proporcionando maior transpar√™ncia e efici√™ncia na comunica√ß√£o.

### üòé **[CENTER] Confirma√ß√£o de Sele√ß√£o de Template.**
Objetivo: Prevenir incidentes (em especial para casos de troca autom√°tica de categoria pela Meta) e sinalizar o cliente 
sobre o uso de templates do tipo marketing independente de ter ou n√£o mudado de status recentemente. 
Na tela de campanhas: ao selecionar um template do tipo Marketing, ser√° aberta uma caixa de confirma√ß√£o com a seguinte mensagem: 
Confirmar sele√ß√£o de template 
O template {nometemplate} √© da categoria Marketing, deseja realizar a campanha com este template?

[Cancelar] [Confirmar] 
Cancelar: O usu√°rio retorna a listagem de templates para selecionar outro. 
Confirmar: Com o template definido o usu√°rio retorna a tela da campanha que estava sendo criada.

### üòé **[CENTER - ROBBU APP] Corre√ß√£o e Ordena√ß√£o de Eventos por UTC do Usu√°rio.**
Detectamos uma quest√£o em que os eventos disparados n√£o eram contabilizados corretamente no contato. 
Especificamente, os eventos comuns n√£o apareciam no front do app nem na vers√£o Desktop, e, para os eventos finalizadores, 
apenas o protocolo de encerramento era registrado, sem exibir o evento finalizador propriamente dito. 
Para resolver esse problema, implementamos uma melhoria que garante a correta ordena√ß√£o dos KPI de Eventos e 
dos Eventos do Sistema, alinhada com a UTC definida no perfil do usu√°rio. Essa corre√ß√£o assegura que todos os 
eventos sejam contabilizados e exibidos de maneira consistente, proporcionando maior transpar√™ncia e efici√™ncia na 
gest√£o dos dados de intera√ß√£o.

</Update>

<Update label="Fevereiro 2025 - 2.0.80/81" description="Invenio Live e Center.">
### üòé **Apresentamos o WhatsApp Flows**
## Uma solu√ß√£o extraordin√°ria para transformar a experi√™ncia de atendimento no WhatsApp!

- **Intera√ß√£o Inteligente:** Envie formul√°rios din√¢micos e integrados em uma √∫nica mensagem, proporcionando uma jornada de usu√°rio flu√≠da, r√°pida e intuitiva.

- **Flexibilidade Total:**
  - **Flows Est√°ticos:** Oferecem uma experi√™ncia completa sem a necessidade de integra√ß√£o externa, garantindo agilidade e simplicidade.
  - **Flows Din√¢micos:** Interagem com sistemas externos para fornecer respostas personalizadas e contextuais, elevando o n√≠vel de atendimento ao cliente.

- **Benef√≠cios Exclusivos:**
  - Eliminam a fragmenta√ß√£o na comunica√ß√£o e reduzem o n√∫mero de mensagens enviadas.
  - Aumentam a efici√™ncia do atendimento e melhoram a satisfa√ß√£o do cliente com uma interface moderna e responsiva.

- **Documenta√ß√£o Oficial:** Baseada na tecnologia da Meta, com total conformidade e robustez. Confira os detalhes na [documenta√ß√£o oficial do WhatsApp Flows](https://developers.facebook.com/docs/whatsapp/flows/).


### "WhatsApp Flows no Invenio Center"


## Tipos de Flows

Existem dois tipos principais de flows no WhatsApp:

1.  **Flows Est√°ticos:**
    - Funcionam sem a necessidade de intera√ß√£o com sistemas externos.
2.  **Flows Din√¢micos:**
    - Interagem com sistemas externos atrav√©s de endpoints para oferecer respostas personalizadas.

**Observa√ß√£o:** O WhatsApp Flows foi desenvolvido para proporcionar uma experi√™ncia otimizada em dispositivos m√≥veis. 
A aus√™ncia de suporte para a vers√£o web reflete uma escolha de design da Meta e n√£o uma limita√ß√£o da funcionalidade.

## Acessando e Criando Flows no Invenio Center

Para acessar e criar flows no Invenio Center, siga os passos abaixo:

1.  No Invenio, os flows est√£o dispon√≠veis em: `Canais > WhatsApp > Waba > Flows`.
2.  Selecione a WABA desejada.
3.  Escolha a op√ß√£o "Flows".
4.  Visualize a lista de flows existentes.
5.  Para criar um novo flow, clique em "+ Criar flow".
6.  Na tela de cria√ß√£o, voc√™ precisar√° fornecer:
    - Nome do flow
    - Categorias
    - Tipo do flow (din√¢mico ou est√°tico)
        - Se o flow for din√¢mico, ser√° necess√°rio vincular um endpoint:
            - Endpoint externo (do cliente, por exemplo)
            - Endpoint interno (customizado cadastrado no Invenio)

**Endpoints:**

# Endpoints em JavaScript

Os endpoints programados utilizando **JavaScript** possuem algumas funcionalidades que precisam ser respeitadas para que funcionem corretamente.

## Palavras Reservadas

Os endpoints possuem algumas constantes e fun√ß√µes predefinidas que s√£o fundamentais para seu funcionamento. Portanto, **n√£o √© poss√≠vel criar novas constantes** com as seguintes palavras reservadas:

- `logger`
- `loggerHistory`
- `response`
- `request`

Caso voc√™ tente definir uma constante com alguma dessas palavras reservadas, o seu endpoint **retornar√° erro**.

## Limita√ß√µes

Os endpoints possuem as seguintes limita√ß√µes:

- **Tempo m√°ximo de execu√ß√£o:** 10 segundos. Se ultrapassar esse limite, ser√° exibido o erro:
  ```json
  {
    "error": "The JavaScript code took more than 10 seconds to execute"
  }
  ```
- **Obrigatoriedade de retorno:** √â necess√°rio sempre retornar algo no endpoint utilizando o m√©todo `response()`. Caso contr√°rio, ser√° exibido o erro:
  ```json
  {
    "error": "Endpoint has no data returned"
  }
  ```

## Vari√°veis Globais

Por padr√£o, existem algumas vari√°veis essenciais para o funcionamento dos endpoints:

### `request`

Vari√°vel que cont√©m v√°rias informa√ß√µes sobre a requisi√ß√£o, como:

- `method` ‚Üí M√©todo da requisi√ß√£o (GET, POST, etc.).
- `headers` ‚Üí Cabe√ßalhos da requisi√ß√£o.
- `body` ‚Üí Corpo da requisi√ß√£o.
- `query` ‚Üí Par√¢metros da query string.

#### Exemplos de Uso:
```javascript
if (request.method === "get") {}

if (request.headers.hasOwnProperty("server")) {}

if (request.body.user.status === "active") {}

if (request.query.user.q === "Nome") {}
```

## M√©todos

Existem alguns m√©todos fundamentais para o funcionamento de um endpoint:

### `logger(data: any)`

M√©todo utilizado para adicionar dados ao **logger** do request, √∫til no processo de debugging.

#### Exemplos:
```javascript
logger(request)
logger(request.body.user)
logger("Testando o log")
logger({data: request, tipo: "Chamada externa"})
```

### `response(data: object, status: number = 200, success: boolean = true)`

M√©todo utilizado para **retornar a resposta do endpoint**.

#### Exemplos:
```javascript
// Retorna sucesso
return response({success: true})

// Retorna erro
return response({error: true}, 400)
```

## Funcionalidades Extras

Al√©m dos aspectos mencionados acima, os endpoints customizados contam com duas funcionalidades adicionais para facilitar a documenta√ß√£o e a organiza√ß√£o do c√≥digo.

### üìå Anota√ß√µes nos Endpoints

- √â poss√≠vel adicionar **anota√ß√µes** diretamente nos endpoints, servindo como documenta√ß√£o integrada.
- Para adicionar, basta clicar em **"Anota√ß√µes"**, inserir as informa√ß√µes desejadas e salvar.
- Isso facilita o entendimento e o uso dos endpoints por toda a equipe 

### Bibliotecas Pr√©-definidas

- A nova funcionalidade permite a **utiliza√ß√£o de bibliotecas externas**, possibilitando a execu√ß√£o de c√≥digos adicionais dentro dos endpoints.
- Isso amplia as possibilidades de **integra√ß√£o e automa√ß√£o** de processos, tornando as implementa√ß√µes mais flex√≠veis e poderosas.

Essas melhorias tornam os endpoints customizados **mais organizados, eficientes e f√°ceis de manter**, garantindo uma melhor experi√™ncia para desenvolvedores e usu√°rios da plataforma.

</Update>

<Update label="Setembro 2024 - 2.0.77 2.0.78" description="Invenio Live e Center.">
## New Features ‚Äì Melhorias

### üòé ID 3329 - Atualiza√ß√£o na Gest√£o de Imagens (Logos de Campanha) no WhatsApp API

Estamos entusiasmados em anunciar uma nova funcionalidade para facilitar a gest√£o da imagem (logos de campanha) 
de exibi√ß√£o dos n√∫meros do WhatsApp API!

### O que mudou?

Anteriormente, a troca de imagem s√≥ podia ser realizada na tela da Positus. Agora, com essa atualiza√ß√£o, a 
mudan√ßa pode ser feita diretamente no **Invenio Center**, tornando o processo mais simples e acess√≠vel para os administradores.

### Benef√≠cios da Atualiza√ß√£o
- **Mais praticidade:** Agora, a gest√£o da imagem pode ser feita de forma direta no Invenio Center.
- **Maior agilidade:** Como a altera√ß√£o n√£o requer aprova√ß√£o por parte do **META**, o processo se torna mais r√°pido.
- **Facilidade na personaliza√ß√£o:** Mantenha a identidade visual do seu neg√≥cio sempre atualizada com menos esfor√ßo.

### Observa√ß√£o Importante
- A altera√ß√£o da imagem **s√≥ pode ser feita um n√∫mero por vez**.
- No momento, **n√£o √© poss√≠vel realizar a opera√ß√£o por lote**.


### ** üòé Alterando a Imagem de Perfil do WhatsApp no Invenio Center**

## Passo a Passo para Alterar a Imagem de Perfil

Siga os passos abaixo para alterar a imagem de perfil da sua conta WhatsApp no Invenio Center:

1.  **Acesse o menu Canais:**
    * No Invenio Center, procure pelo grupo "Recursos" e clique no menu "Canais".

2.  **Selecione WhatsApp:**
    * Em seguida, clique na op√ß√£o "WhatsApp" (conforme imagem abaixo).

3.  **Escolha a conta WhatsApp:**
    * Selecione a conta WhatsApp que deseja alterar a imagem (logo).

4.  **Acesse a se√ß√£o N√∫meros:**
    * Clique em "N√∫meros".

5.  **Edite o perfil do n√∫mero:**
    * Escolha o n√∫mero que deseja alterar a imagem atrav√©s da op√ß√£o "Editar perfil".

6.  **Selecione e salve a imagem:**
    * Selecione o arquivo desejado clicando em `<Selecionar arquivo>`.
    * Ap√≥s preencher os campos obrigat√≥rios ("Sobre" e "Segmento") e os demais que desejar configurar, clique em `<Salvar>`.

## Observa√ß√£o Importante

* O tamanho m√°ximo da imagem √© de 640x640 pixels.

## üòé Novos Filtros de Usu√°rios no Invenio Center

Agora, a tela de lista de usu√°rios conta com novos filtros para uma pesquisa mais precisa e eficiente. Com essas melhorias, voc√™ pode:

- Filtrar usu√°rios por **status** (ativos, inativos ou deletados);
- Filtrar por **usu√°rios com ramal**;
- Filtrar por **segmentos vinculados**.

Esses novos filtros tornam a gest√£o de usu√°rios mais √°gil e organizada! üöÄ

---

## üòé PIX Copia e Cola no Invenio Center

Facilitamos ainda mais o envio de pagamentos! Agora, os clientes podem enviar o **c√≥digo PIX Copia e Cola** diretamente pela **IDR**, permitindo:

- Gera√ß√£o f√°cil do c√≥digo PIX;
- Compartilhamento r√°pido pelo WhatsApp;
- Pagamentos mais √°geis e eficientes com apenas um clique.

Essa funcionalidade melhora a experi√™ncia do cliente final, garantindo transa√ß√µes mais simples e fluidas. üí∞‚ú®

### Como Configurar:
1. Informar a condi√ß√£o;
2. Incluir nova a√ß√£o (**Enviar bot√£o de pagamento no WhatsApp**);
3. Incluir a nova a√ß√£o e clicar em **Criar**

</Update>