---
title: "Invenio Webhook"
sidebarTitle: "Webhook"
description: "Integre o Invenio Center com sistemas externos via Webhook HTTP: receba eventos de mensagens, KPIs, campanhas, templates, protocolos e mais em tempo real no formato JSON."
mode: "wide"
---

A integra√ß√£o via **Webhook** permite comunica√ß√£o em tempo quase real entre o Invenio Center, o Invenio Live e sistemas externos. Eventos importantes s√£o enviados automaticamente para o endpoint configurado, permitindo que sua opera√ß√£o registre, trate e analise dados de forma √°gil e integrada.

<Note>
Os dados s√£o enviados em **lotes de at√© 30 arquivos JSON**, com intervalo m√©dio de **2 segundos** entre os lotes.
</Note>

---

## Eventos Dispon√≠veis

| Evento | Descri√ß√£o |
|--------|-----------|
| **Mensagens enviadas** | Status de entrega das mensagens saintes |
| **Mensagens recebidas** | Notifica√ß√£o de mensagens entrantes |
| **KPI Eventos** | Indicadores inseridos no ambiente (manual ou sistema) |
| **Campanhas** | Cria√ß√£o e atualiza√ß√£o de status de campanhas |
| **Carteiras** | Edi√ß√µes e atualiza√ß√µes de configura√ß√£o de segmentos |
| **Templates HSM** | Status, qualidade e altera√ß√µes de templates |
| **Linhas WhatsApp** | Status, qualidade e altera√ß√µes das linhas |
| **Usu√°rios** | Logs e mudan√ßas de usu√°rios |
| **Protocolos** | Estat√≠sticas e dados de protocolos de atendimento |

**Objetos JSON enviados:**
`contact` ¬∑ `event` ¬∑ `messageincoming` ¬∑ `messageoutgoing` ¬∑ `campaign` ¬∑ `template` ¬∑ `protocol` ¬∑ `wallet` ¬∑ `whatsappnumbers` ¬∑ `status`

---

## Linguagens Suportadas

Os webhooks do Invenio s√£o baseados em **HTTP** ‚Äî qualquer linguagem que suporte servidor web pode ser utilizada.

| Linguagem | Framework sugerido |
|-----------|--------------------|
| JavaScript / Node.js | Express |
| Python | Flask, Django ou FastAPI |
| C# (.NET) | ASP.NET Core |
| Java | Spring Boot |
| PHP | Laravel, Symfony ou nativo `$_POST` |
| Go, Ruby, Rust, Elixir | Qualquer lib HTTP nativa |

---

## Requisitos de Infraestrutura (Produ√ß√£o)

<Warning>
**Configura√ß√£o m√≠nima recomendada para o servidor endpoint:**

| Componente | Requisito m√≠nimo |
|------------|-----------------|
| **Armazenamento** | SSD de 250 GB |
| **Mem√≥ria RAM** | 16 GB |
| **CPU** | 4 n√∫cleos |

‚ö†Ô∏è O uso de **HD** n√£o √© recomendado ‚Äî pode gerar gargalos pelo alto volume de mensagens e eventos. Monitore a infraestrutura continuamente com possibilidade de escala futura.
</Warning>

---

## Configurar o Webhook no Invenio Center

**Caminho:** Invenio Center > Configura√ß√µes > **Webhook > Gerenciar**

<Tip>
**Acesso direto:** [Configura√ß√µes](https://inveniocenter.robbu.global/painel/configuracoes)
</Tip>

<Steps>
  <Step title="Preparar o servidor endpoint">
    Configure e publique o endpoint na sua infraestrutura (servidor, banco de dados, firewall).

    Certifique-se de que os **IPs do Invenio** est√£o liberados no firewall.

    Consulte: [Lista de IPs para libera√ß√£o](https://docs.robbu.global/docs/configuracoes-gerais/lista-ips)
  </Step>

  <Step title="Acessar configura√ß√µes do Webhook">
    Acesse: **Invenio Center > Configura√ß√µes > Webhook > Gerenciar**

    <Frame caption="Tela de gerenciamento do Webhook">
      <img src="https://robbublob.blob.core.windows.net/docs/invenio-center/webhook/webhook3.png" />
    </Frame>

    <Frame caption="Configura√ß√£o da URL do endpoint">
      <img src="https://robbublob.blob.core.windows.net/docs/invenio-center/webhook/webhook2.png" />
    </Frame>

    <Frame caption="Confirma√ß√£o de configura√ß√£o salva">
      <img src="https://robbublob.blob.core.windows.net/docs/invenio-center/webhook/webhook1.png" />
    </Frame>
  </Step>

  <Step title="Adicionar a URL do endpoint">
    Cole a URL gerada pelo seu servidor/ambiente de publica√ß√£o no campo dispon√≠vel e clique em **Salvar**.

    <Check>
    Em at√© **60 minutos**, as requisi√ß√µes come√ßar√£o a ser disparadas para o endpoint configurado.
    </Check>
  </Step>
</Steps>

<Note>
**Fila paralela:** O Invenio disponibiliza dois campos para URLs de Webhook por padr√£o. A inclus√£o de URLs adicionais (fila paralela) est√° sujeita a **custo extra** ‚Äî consulte o gerente comercial respons√°vel pela sua conta.
</Note>

---

## Diagrama de Funcionamento

```mermaid
sequenceDiagram
    participant UsuarioFinal as Usu√°rio Final
    participant Invenio as Invenio (Sistema)
    participant Cliente as Cliente (Aplica√ß√£o)

    UsuarioFinal->>Invenio: Envia mensagem (Texto/Arquivo/Localiza√ß√£o)
    Invenio->>Cliente: Dispara Webhook com dados da mensagem
    Cliente-->>Invenio: Retorna resposta (HTTP 200/erro)
    Cliente->>Invenio: Opcional: Envia instru√ß√µes para resposta autom√°tica
    Invenio->>UsuarioFinal: Responde mensagem ou exibe notifica√ß√£o
```

---

## Mapeamento de Campos

### Message (Mensagem)

| Campo | Descri√ß√£o | Tipo |
|-------|-----------|------|
| `MessageSentToProviderAt` | Data/hora do envio ao provedor | `Datetime` |
| `MessageDeliveredAt` | Data/hora da entrega | `Datetime` |
| `MessageReadAt` | Data/hora da leitura | `Datetime` |
| `MessageFailedAt` | Data/hora da falha na entrega | `Datetime` |
| `MessagemSentAt` | Data/hora do envio | `Datetime` |
| `MessageReceivedAt` | Data/hora do recebimento | `Datetime` |
| `MessageCampaignid` | ID da campanha | `Int` |
| `MessageType` | Tipo de envio | `String` |
| `MessageDirection` | `incoming` (entrada) ou `outgoing` (sa√≠da) | `String` |
| `MessageId` | ID da mensagem | `Long` |
| `MessageChannel` | Canal (ver enumera√ß√£o) | `Int` |
| `MessageText` | Texto da mensagem | `String` |
| `MessageSourceCountryCode` | C√≥digo do pa√≠s do remetente | `Int` |
| `MessageSourcePhoneNumber` | Telefone do remetente | `Long` |
| `MessageSourceEmail` | E-mail do remetente | `String` |
| `MessageDestinationCountryCode` | C√≥digo do pa√≠s do destinat√°rio | `Int` |
| `MessageDestinationPhoneNumber` | Telefone do destinat√°rio | `Long` |
| `MessageDestinationEmail` | E-mail do destinat√°rio | `String` |
| `ContactRobbuId` | ID do contato na Robbu | `Long` |
| `ContactName` | Nome do contato | `String` |
| `ContactID` | ID do contato | `String` |
| `ContactCustomCode` | C√≥digo do cliente | `String` |
| `ContactMainEmail` | E-mail principal | `String` |
| `ContactMainWhatsAppCountryCode` | C√≥digo do pa√≠s (WhatsApp) | `Int` |
| `ContactMainWhatsAppPhoneNumber` | N√∫mero WhatsApp principal | `Long` |
| `ContactMainSmsCountryCode` | C√≥digo do pa√≠s (SMS) | `Int` |
| `ContactMainSmsPhoneNumber` | N√∫mero SMS principal | `Long` |
| `QueueWaitingSince` | In√≠cio da espera na fila | `Datetime` |
| `QueueFirstAnswerAt` | Primeira resposta ao contato | `Datetime` |
| `ContactLastWalletCode` | C√≥digo do √∫ltimo segmento | `String` |
| `ContactLastWalletName` | Nome do √∫ltimo segmento | `String` |
| `ContactLastChannelDescripton` | √öltimo canal do contato | `String` |
| `ContactCreatedAt` | Data/hora de inclus√£o do contato | `Datetime` |
| `ContactLastAnswearAt` | √öltima mensagem enviada ao contato | `Datetime` |
| `ContactLastIncomingMessageAt` | √öltima mensagem recebida do contato | `Datetime` |
| `DigitalPostman` | Envio via Carteiro Digital | `Bool` |
| `LocationLatitude` | Latitude de localiza√ß√£o | `Double` |
| `LocationLongitude` | Longitude de localiza√ß√£o | `Double` |
| `FileUrl` | URL do arquivo | `String` |
| `FileName` | Nome do arquivo | `String` |
| `FileExtension` | Extens√£o do arquivo | `String` |
| `ProtocolMessageId` | ID do protocolo | `Long` |
| `ProtocolMessageNumber` | N√∫mero do protocolo | `String` |
| `MessageErrorCode` | C√≥digo de falha na entrega | `String` |
| `ErrorMessage` | Descri√ß√£o do erro | `String` |
| `MessageChannelDescription` | Descri√ß√£o do canal | `String` |
| `MessageTemplateName` | Nome do template | `String` |
| `MessageTemplateId` | ID do template | `Long` |

**Enumera√ß√£o ‚Äì MessageChannel:**
`1` E-mail ¬∑ `2` SMS ¬∑ `3` WhatsApp ¬∑ `4` Chat ¬∑ `5` Facebook ¬∑ `6` Telegram ¬∑ `7` Voz ¬∑ `8` Instagram ¬∑ `9` Viber

<AccordionGroup>
  <Accordion title="Modelo JSON ‚Äî Mensagem de Entrada (Incoming)">
    ```json
    "message": {
      "receivedAt": "2020-01-31T02:01:03",
      "direction": "incoming",
      "id": 13232322244444,
      "channel": 3,
      "text": "Ol√°, teste whats!",
      "source": {
        "countryCode": 55,
        "phoneNumber": 11999999992
      },
      "destination": {
        "countryCode": 55,
        "phoneNumber": 11944497777
      },
      "location": {
        "latitude": -23.5535317,
        "longitude": -46.6631181
      },
      "file": {
        "url": "http://s.robbu.com.br/arquivo?hash=ROBBU",
        "name": "robbu",
        "extension": "pdf"
      },
      "contact": {
        "robbuid": 11111111111,
        "name": "TESTE ROBBU",
        "customCode": "1372511",
        "id": "00000000000",
        "mainWhatsapp": { "countryCode": 55, "phoneNumber": 11999999992 },
        "mainSMS": { "countryCode": 55, "phoneNumber": 11999999992 },
        "mainEmail": "teste@robbu.global"
      }
    }
    ```
  </Accordion>

  <Accordion title="Modelo JSON ‚Äî Mensagem de Sa√≠da (Outgoing)">
    ```json
    "message": {
      "sentAt": "2020-01-31T02:05:21.2900000",
      "direction": "outgoing",
      "id": 1323232224455555,
      "channel": 3,
      "type": "",
      "text": "Teste envio whats!",
      "campaignId": 1234,
      "source": {
        "countryCode": 55,
        "phoneNumber": 11944497777,
        "sender": ""
      },
      "destination": {
        "countryCode": 55,
        "phoneNumber": 11999999992
      },
      "file": {
        "url": "http://s.robbu.com.br/arquivo?hash=ROBBU",
        "name": "robbu",
        "extension": "pdf"
      },
      "contact": {
        "robbuid": 11111111111,
        "name": "TESTE ROBBU",
        "customCode": "1372511",
        "id": "00000000000",
        "mainWhatsapp": { "countryCode": 55, "phoneNumber": 11999999992 },
        "mainSMS": { "countryCode": 55, "phoneNumber": 11999999992 },
        "mainEmail": "teste@robbu.global",
        "queue": {
          "waitingSince": "2021-03-08 12:00:00",
          "firstAnswerAt": "2021-03-08 11:30:00"
        }
      }
    }
    ```
  </Accordion>
</AccordionGroup>

---

### Status

| Campo | Descri√ß√£o | Tipo |
|-------|-----------|------|
| `MessageStatusId` | ID do status | `Long` |
| `SourceStatusSender` | Remetente do status | `String` |
| `MessageStatusSentToProviderAt` | Envio ao provedor | `Datetime` |
| `MessageStatusDeliveredAt` | Entrega | `Datetime` |
| `MessageStatusReadAt` | Leitura | `Datetime` |
| `MessageStatusSentAt` | Envio da mensagem | `Datetime` |
| `MessageStatusFailedAt` | Falha no envio | `Datetime` |
| `MessageStatusDigitalPostman` | Envio via Carteiro Digital | `Bool` |
| `MessageStatusErrorCode` | C√≥digo de erro | `String` |
| `MessageStatusErrorMessage` | Descri√ß√£o do erro | `String` |
| `ContactStatusRobbuId` | ID do contato na Robbu | `Long` |

<Accordion title="Modelo JSON ‚Äî Status">
  ```json
  "status": {
    "message": {
      "id": 1323232224455555,
      "source": { "sender": "User1" },
      "sentToProviderAt": "2020-01-31T15:50:39.9312405",
      "deliveredAt": "2020-01-31T15:51:52.9707831",
      "readAt": "2020-01-31T15:53:14.6399299"
    }
  }
  ```
</Accordion>

---

### Event (KPI Evento)

| Campo | Descri√ß√£o | Tipo |
|-------|-----------|------|
| `ID` | ID do evento | `Long` |
| `Description` | Descri√ß√£o do evento | `String` |
| `Note` | Observa√ß√£o | `String` |
| `CustomCode` | C√≥digo customizado | `String` |
| `Sender` | Usu√°rio respons√°vel | `String` |
| `Finalized` | Evento finalizador | `Bool` |
| `Type` | Tipo: negativo, neutro ou positivo | `String` |
| `ProtocolNumber` | N√∫mero do protocolo | `String` |
| `ProtocolID` | ID do protocolo | `Long` |
| `ContactRobbuId` | ID √∫nico do contato | `Long` |
| `ContactName` | Nome do contato | `String` |
| `ContactID` | ID do contato | `String` |
| `ContactCustomCode` | C√≥digo do cliente | `String` |
| `ContactMainEmail` | E-mail principal | `String` |
| `ContactMainWhatsAppCountryCode` | C√≥digo do pa√≠s (WhatsApp) | `Int` |
| `ContactMainWhatsAppPhoneNumber` | N√∫mero WhatsApp principal | `Long` |
| `ContactMainSmsCountryCode` | C√≥digo do pa√≠s (SMS) | `Int` |
| `ContactMainSmsPhoneNumber` | N√∫mero SMS principal | `Long` |
| `QueueWaitingSince` | In√≠cio da espera na fila | `Datetime` |
| `QueueFirstAnswerAt` | Primeira resposta | `Datetime` |
| `ContactLastWalletCode` | C√≥digo do √∫ltimo segmento | `String` |
| `ContactLastWalletName` | Nome do √∫ltimo segmento | `String` |
| `ContactLastChannelDescripton` | √öltimo canal | `String` |
| `ContactCreatedAt` | Inclus√£o do contato | `Datetime` |
| `ContactLastAnswearAt` | √öltima mensagem enviada | `Datetime` |
| `ContactLastIncomingMessageAt` | √öltima mensagem recebida | `Datetime` |

<Accordion title="Modelo JSON ‚Äî KPI Evento">
  ```json
  "event": {
    "createdAt": "2020-01-31T02:05:21.0566667",
    "id": 13232322244599998,
    "description": "[CR] Saudacao Final",
    "note": "Saudacao Final",
    "customCode": "298",
    "finalized": false,
    "sender": "",
    "type": "Neutro",
    "contact": {
      "robbuid": 11111111111,
      "name": "TESTE ROBBU",
      "customCode": "1372511",
      "id": "00000000000",
      "mainWhatsapp": { "countryCode": 55, "phoneNumber": 11999999992 },
      "mainSMS": { "countryCode": 55, "phoneNumber": 11999999992 },
      "mainEmail": "teste@robbu.global"
    }
  }
  ```
</Accordion>

---

### Campaign (Campanha)

| Campo | Descri√ß√£o | Tipo |
|-------|-----------|------|
| `CreatedAt` | Data/hora de cria√ß√£o | `Datetime` |
| `CreatedBy` | Usu√°rio respons√°vel | `String` |
| `Id` | ID da campanha | `Int` |
| `Channel` | Canal (ver enumera√ß√£o) | `Int` |
| `ChannelDescription` | Descri√ß√£o do canal | `String` |
| `StartAt` | In√≠cio da campanha | `Datetime` |
| `Size` | Quantidade de mensagens | `Int` |
| `Message` | Template enviado | `String` |
| `HoursToDiscard` | Horas para descarte por atendimento ativo | `Int` |
| `TypeCampaignCode` | C√≥digo interno do tipo | `String` |
| `TypeCampaignDescription` | Tipo: SMS, WhatsApp, E-mail, Voz | `String` |
| `SplitSendPercentage` | % de fracionamento | `Double` |
| `SplitSendMinutes` | Intervalo (min) entre envios | `Int` |
| `MailingDescription` | Descri√ß√£o do mailing | `String` |
| `MailingImportedAt` | Importa√ß√£o do mailing | `Datetime` |
| `MailingImportedBy` | Usu√°rio que importou | `String` |
| `MailingSize` | Registros no mailing | `Int` |
| `MailingWalletClientCode` | C√≥digo da carteira | `String` |
| `TotalSent` | Total enviado | `Int` |
| `CampaignLastSentAt` | √öltima mensagem enviada | `Datetime` |
| `CampaignStatusCode` | C√≥digo de status | `String` |
| `CampaignDescription` | Descri√ß√£o do tipo de campanha | `String` |

**Enumera√ß√£o ‚Äì Channel:**
`1` E-mail ¬∑ `2` SMS ¬∑ `3` WhatsApp ¬∑ `4` Chat ¬∑ `5` Facebook ¬∑ `6` Telegram ¬∑ `7` Voz ¬∑ `8` Instagram ¬∑ `9` Viber

**TypeCampaignCode:**
`EM` E-mail ¬∑ `SL` SMS Long ¬∑ `SS` SMS Short ¬∑ `VW` Voz Way ¬∑ `WB` WhatsApp Broadcast ¬∑ `WE` WhatsApp Oficial Exclusivo ¬∑ `WP` WhatsApp Prospect ¬∑ `WO/WC` WhatsApp Oficial Compartilhado

**CampaignStatusCode:**
`C` Cancelada ¬∑ `E` N√£o enviada ¬∑ `F` Finalizada ¬∑ `I` Iniciada ¬∑ `P` Aguardando processamento

<AccordionGroup>
  <Accordion title="Modelo JSON ‚Äî Campanha">
    ```json
    "campaign": {
      "createdAt": "2020-01-27T22:01:12.2766667",
      "createdBy": "User Robbu",
      "id": 994545,
      "channel": 1,
      "startAt": "2020-01-27T21:59:00",
      "size": 3102,
      "message": "<html><body>Envio campanha email!</body></html>",
      "hoursToDiscard": 0,
      "type": { "code": "EM", "description": "EMAIL" },
      "splitSend": { "percentage": 100.00, "minutes": 0 },
      "mailing": {
        "description": "disparo_email",
        "importedAt": "2020-01-27T21:54:16.5500000",
        "importedBy": "User Robbu",
        "size": 3102,
        "walletClientCode": "1000"
      }
    }
    ```
  </Accordion>

  <Accordion title="Modelo JSON ‚Äî Status da Campanha">
    ```json
    "status": {
      "campaign": {
        "id": 994545,
        "totalSent": 91,
        "lastSentAt": "2020-01-31T16:10:12.0633333",
        "statusCode": "F"
      }
    }
    ```
  </Accordion>
</AccordionGroup>

---

### Template

| Campo | Descri√ß√£o | Tipo |
|-------|-----------|------|
| `Id` | ID do template | `Long` |
| `Name` | Nome do template | `String` |
| `Event` | A√ß√£o: `Updated` ou `Created` | `String` |
| `EventAt` | Data/hora de inclus√£o/altera√ß√£o | `Datetime` |
| `Status` | Status na Meta: `Approved` ¬∑ `Reject` ¬∑ `Deleted` ¬∑ `Disabled` | `String` |
| `Quality` | Qualidade na Meta: `Green` ¬∑ `Yellow` ¬∑ `Red` ¬∑ `Deleted` ¬∑ `Disabled` | `String` |
| `Category` | Categoria: `Utility` ¬∑ `Marketing` ¬∑ `Service` ¬∑ `Authentication` | `String` |
| `Language` | Idioma do template | `String` |

<Accordion title="Modelo JSON ‚Äî Template">
  ```json
  "template": {
    "id": 53129216,
    "name": "bv_atualizar_informacoes_020",
    "event": "updated",
    "eventAt": "2025-02-28T12:10:24.2981975Z",
    "status": "APPROVED",
    "quality": "UNKNOWN",
    "category": "MARKETING",
    "language": "pt_BR"
  }
  ```
</Accordion>

---

### Protocol (Protocolo)

| Campo | Descri√ß√£o | Tipo |
|-------|-----------|------|
| `Event` | A√ß√£o: `Updated` ou `Created` | `String` |
| `EventAt` | Data/hora de inclus√£o | `Datetime` |
| `Id` | ID do protocolo | `Long` |
| `Number` | N√∫mero do protocolo | `String` |
| `GeneratedAt` | Data/hora de gera√ß√£o | `Datetime` |
| `GenerationChannelDescription` | Canal do protocolo | `String` |
| `GenerationWalletName` | Nome do segmento | `String` |
| `GenerationWalletCode` | C√≥digo do segmento | `String` |
| `GenerationWalletId` | ID do segmento | `Long` |
| `SegmentId` | ID do segmento | `Long` |
| `SegmentName` | Nome do segmento | `String` |
| `ContactProtocolId` | ID do protocolo do contato | `String` |
| `ContactProtocolRobbuId` | ID na Robbu | `Long` |
| `FirstMessageIdrAt` | Primeira mensagem na IDR | `Datetime` |
| `LastMessageIdrAt` | √öltima mensagem na IDR | `Datetime` |
| `IdrClosedAt` | Encerramento na IDR | `Datetime` |
| `LastMessageContactIdrAt` | √öltima mensagem do contato para IDR | `Datetime` |
| `FirstMessageFromHumanAttendanceAt` | Primeira mensagem da opera√ß√£o | `Datetime` |
| `IdrMessagesCount` | Total de mensagens da IDR | `Long` |
| `HumanAttendanceMessagesCount` | Total de mensagens de atendentes | `Long` |
| `IncomingMessagesCount` | Total de mensagens recebidas | `Long` |
| `HumanAttendanceAnswersCount` | Total de respostas de atendentes | `Long` |
| `ContactAnswersCount` | Total de respostas do contato | `Long` |
| `HumanAttendanceAnswersTotalTimeInSeconds` | Soma (seg) das respostas da opera√ß√£o | `Long` |
| `ContactAnswersTotalTimeInSeconds` | Soma (seg) das respostas do contato | `Long` |
| `IdrAnswersTotalTimeInSeconds` | Soma (seg) das respostas da IDR | `Long` |
| `IdrAnswersCount` | Total de respostas da IDR | `Long` |
| `ClosedAt` | Encerramento do protocolo | `Datetime` |
| `ClosingUserInfo` | Usu√°rio que encerrou | `String` |
| `ClosingEventId` | ID do evento de encerramento | `Long` |
| `ClosingEventName` | Nome do evento de encerramento | `String` |
| `ClosingEventCode` | C√≥digo do evento de encerramento | `String` |
| `AbandonedAt` | Abandono do protocolo | `Datetime` |

---

### User (Usu√°rio)

| Campo | Descri√ß√£o | Tipo |
|-------|-----------|------|
| `Id` | ID do usu√°rio | `Long` |
| `Name` | Nome de login | `String` |
| `Event` | A√ß√£o: `Updated` ou `Created` | `String` |
| `EventAt` | Data/hora de cria√ß√£o/edi√ß√£o | `Datetime` |
| `Completename` | Nome completo | `String` |
| `AcessGroup` | Grupo de acesso | `String` |
| `AcessGroupDescription` | Descri√ß√£o do grupo | `String` |
| `EmailAddress` | E-mail do usu√°rio | `String` |
| `LastLoginAt` | √öltimo login | `Datetime` |
| `IsActive` | Ativo/inativo | `Bool` |
| `LastQueueUpdateAt` | √öltima atualiza√ß√£o da fila | `Datetime` |
| `LastPasswordChangeAT` | √öltima troca de senha | `Datetime` |
| `IsLogged` | Logado no momento | `Bool` |

---

### Wallet (Carteira / Segmento)

| Campo | Descri√ß√£o | Tipo |
|-------|-----------|------|
| `Id` | ID do segmento | `Long` |
| `Name` | Nome do segmento | `String` |
| `Code` | C√≥digo do segmento | `String` |
| `Event` | A√ß√£o: `Updated` ¬∑ `Created` ¬∑ `Deleted` | `String` |
| `EventAt` | Data/hora | `Datetime` |
| `DistributionMethod` | M√©todo de distribui√ß√£o | `String` |
| `DistributionMethodDescription` | Descri√ß√£o do m√©todo | `String` |

---

### WhatsApp Numbers (Linhas WhatsApp)

| Campo | Descri√ß√£o | Tipo |
|-------|-----------|------|
| `Event` | A√ß√£o: `Created` ou `Updated` | `String` |
| `EventAt` | Data/hora | `Datetime` |
| `Id` | ID da linha | `Long` |
| `WalletId` | ID do segmento | `Long` |
| `Status` | Qualidade na Meta: `Green` ¬∑ `Yellow` ¬∑ `Red` ¬∑ `Unknown` | `String` |
| `CountryCode` | C√≥digo do pa√≠s | `String` |
| `AreaCode` | C√≥digo de √°rea | `String` |
| `PhoneNumber` | N√∫mero de telefone | `String` |
| `IsActive` | Linha ativa | `Bool` |
| `BroadCastLimitPerDay` | Limite di√°rio de envios (Meta) | `Int` |
| `CanSendHsm` | Habilitada para HSM | `Bool` |

<Accordion title="Modelo JSON ‚Äî N√∫mero WhatsApp">
  ```json
  "whatsappNumber": {
    "event": "updated",
    "eventAt": "2025-02-26T19:18:48.5888674+00:00",
    "id": 1234567,
    "walletId": 7654321,
    "status": "YELLOW",
    "countryCode": "55",
    "areaCode": "11",
    "phoneNumber": "11111111",
    "isActive": true,
    "broadcastLimitPerDay": 1000,
    "canSendHsm": true
  }
  ```
</Accordion>

---

## Links Relacionados

<CardGroup cols={2}>
  <Card
    title="Configura√ß√µes Gerais da Conta"
    icon="gear"
    href="https://docs.robbu.global/docs/center/configuracoes-gerais-da%20conta"
  >
    Configura√ß√µes do ambiente Invenio Center
  </Card>

  <Card
    title="Lista de IPs para Firewall"
    icon="shield"
    href="https://docs.robbu.global/docs/configuracoes-gerais/lista-ips"
  >
    IPs que devem ser liberados no firewall
  </Card>
</CardGroup>

---

## ‚ÅâÔ∏è Perguntas Frequentes (FAQ)

<AccordionGroup>
  <Accordion title="üì¶ Quais objetos o Webhook envia?">
    S√£o enviados blocos JSON dos seguintes objetos:
    `contact` ¬∑ `event` ¬∑ `messageincoming` ¬∑ `messageoutgoing` ¬∑ `campaign` ¬∑ `template` ¬∑ `protocol` ¬∑ `wallet` ¬∑ `whatsappnumbers` ¬∑ `status`
  </Accordion>

  <Accordion title="‚è±Ô∏è Com que frequ√™ncia os lotes s√£o entregues?">
    Em **lotes de at√© 30 arquivos JSON** com **intervalo m√©dio de 2 segundos** entre os lotes.
  </Accordion>

  <Accordion title="‚è≥ Quando come√ßam a chegar os dados ap√≥s a configura√ß√£o?">
    Em at√© **60 minutos** ap√≥s o salvamento da URL do endpoint no Invenio Center.
  </Accordion>

  <Accordion title="üîê √â obrigat√≥rio usar HTTPS no endpoint?">
    √â **altamente recomendado** usar HTTPS para seguran√ßa no transporte dos dados. Al√©m disso, libere os **IPs oficiais do Invenio** no firewall para garantir conectividade.

    Consulte: [Lista de IPs](https://docs.robbu.global/docs/configuracoes-gerais/lista-ips)
  </Accordion>

  <Accordion title="üñ•Ô∏è Quais s√£o os requisitos m√≠nimos de infraestrutura?">
    Para ambientes de produ√ß√£o: **SSD 250 GB** ¬∑ **16 GB RAM** ¬∑ **CPU 4 n√∫cleos**.

    ‚ö†Ô∏è HD n√£o √© recomendado pelo alto volume de eventos. Preveja escalabilidade futura.
  </Accordion>

  <Accordion title="‚òÅÔ∏è Posso usar infraestrutura cloud ou on-premises?">
    **Sim.** A solu√ß√£o √© compat√≠vel com ambos ‚Äî a tecnologia do banco de dados e infraestrutura ficam a crit√©rio do cliente, desde que a TI garanta opera√ß√£o e manuten√ß√£o.
  </Accordion>

  <Accordion title="‚ûï O que √© a 'fila paralela' e h√° custo extra?">
    A **fila paralela** permite configurar URLs adicionais al√©m das duas padr√£o. Essa configura√ß√£o pode gerar **cobran√ßa adicional** ‚Äî consulte o gerente comercial respons√°vel pela sua conta.
  </Accordion>

  <Accordion title="üìç Onde configuro o Webhook no Invenio Center?">
    **Caminho:** Invenio Center > Configura√ß√µes > Webhook > Gerenciar

    Ap√≥s publicar o servi√ßo e liberar o firewall, informe a URL do endpoint e salve.
  </Accordion>
</AccordionGroup>
