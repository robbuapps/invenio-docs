---
title: "Como utilizar as vari√°veis do sistema em sua IDR"
sidebarTitle: "Vari√°veis em IDRs"
description: "Utilize vari√°veis do sistema para personalizar fluxos automatizados, mensagens e decis√µes inteligentes dentro das IDRs do Invenio."
---
---

 
A IDR permite a constru√ß√£o de fluxos automatizados e personalizados para os atendimentos. Dentro desses fluxos, √© poss√≠vel utilizar vari√°veis do sistema e de base de dados para dinamizar as mensagens, executar condi√ß√µes, armazenar valores ou tomar decis√µes automatizadas.  
Essas vari√°veis s√£o especialmente √∫teis para personalizar mensagens com nome, CPF, e-mail, entre outros dados do contato, realizar valida√ß√µes com base em respostas da API ou dados externos, navegar entre etapas de forma din√¢mica e armazenar dados de intera√ß√µes.

## Como utilizar vari√°veis em IDRs

As vari√°veis devem ser inseridas no fluxo utilizando duplas chaves ou @ dependendo da especifica√ß√£o de cada uma.  
**Exemplo:** Utilize `{{contactfirstname}}` ou `@PrimeiroNome` para retornar o primeiro nome do contato.  

> ‚ö†Ô∏è **Importante:** Vari√°veis iniciadas com `@` s√£o globais do sistema (com exce√ß√£o da `@identificadororiginal`), portanto, podem ser utilizadas tamb√©m no envio de HSM e de forma livre durante o atendimento.

---

## üìå Vari√°veis comumente utilizadas

| Vari√°vel                               | Tipo                    | Descri√ß√£o                                 |
|----------------------------------------|--------------------------|---------------------------------------------|
| `{{contactname}}` / `@NomePessoa`      | Base de dados / Global   | Nome completo do contato.                  |
| `{{contactfirstname}}` / `@PrimeiroNome`| Base de dados / Global  | Primeiro nome do contato.                  |
| `{{contactlastname}}`                  | Base de dados            | √öltima palavra do nome do contato.         |
| `{{contactemail}}`                     | Base de dados            | E-mail principal do contato.               |
| `{{contactid}}` / `@CPFCNPJ`           | Base de dados / Global   | CPF ou CNPJ do contato cadastrado no Invenio. |
| `{{contactcustomcode}}` / `@ChaveCliente`| Base de dados / Global | C√≥digo do cliente no Invenio.              |
| `{{contactphonenumber}}`              | Base de dados            | N√∫mero de telefone do contato.             |
| `{{contactphonenumberareacode}}`      | Base de dados            | Apenas o DDD do contato.                   |
| `{{contactphonenumbermain}}`          | Base de dados            | N√∫mero sem DDI e DDD.                      |
| `{{segmentname}}`                      | Base de dados            | Segmento (carteira) atual do contato.      |
| `{{currentdate}}`                      | Base de dados            | Data atual no formato dd/MM/yyyy.          |
| `{{internalwhatsappnumber}}`          | Base de dados            | N√∫mero do WhatsApp utilizado pelo bot.     |
| `{{protocol}}`                         | Base de dados            | N√∫mero do protocolo de atendimento.        |
| `{{username}}` / `@NomeUsuario`        | Base de dados / Global   | Nome do operador que enviou a √∫ltima mensagem. |
| `{{loyalusername}}`                    | Base de dados            | Nome do operador fidelizado ao contato.    |

---

##  Vari√°veis Coringa

Essas vari√°veis s√£o √∫teis para personaliza√ß√µes tempor√°rias, sendo amplamente utilizadas em campanhas e fluxos automatizados, onde os dados variam de contato para contato.

| Vari√°vel                  | Tipo                  | Caracter√≠stica            |
|---------------------------|------------------------|----------------------------|
| `{{contactjoker1}}` / `@Coringa1` | Base de dados / Global | At√© 300 caracteres.        |
| `{{contactjoker2}}` / `@Coringa2` | Base de dados / Global | At√© 300 caracteres.        |
| `{{contactjoker3}}` / `@Coringa3` | Base de dados / Global | At√© 300 caracteres.        |
| `{{contactjoker4}}` / `@Coringa4` | Base de dados / Global | At√© 300 caracteres.        |
| `{{contactjoker5}}` / `@Coringa5` | Base de dados / Global | At√© 5.000 caracteres.      |

---

##  Vari√°veis de Localiza√ß√£o

| Vari√°vel               | Descri√ß√£o                                           |
|------------------------|-----------------------------------------------------|
| `{{longitude/latitude}}` | Coordenadas recebidas pela intera√ß√£o do contato.     |

---

##  Vari√°veis T√©cnicas e de Integra√ß√£o

Essas vari√°veis armazenam respostas de execu√ß√µes API ou a√ß√µes do bot.

| Vari√°vel               | Descri√ß√£o                                      |
|------------------------|-----------------------------------------------|
| `{{message}}`          | √öltima mensagem recebida do contato.          |
| `{{lastapiresponse}}`  | Resposta da √∫ltima chamada de API.            |
| `{{lastapistatuscode}}`| C√≥digo de status HTTP da √∫ltima chamada de API.|

---

##  Vari√°veis para Navega√ß√£o Din√¢mica

| Vari√°vel               | Descri√ß√£o                                                                 |
|------------------------|--------------------------------------------------------------------------|
| `@identificadororiginal`| Utilizada para redirecionar o contato para a √∫ltima etapa de ‚ÄúAguardar mensagem de resposta‚Äù. |

---

> As vari√°veis da IDR s√£o recursos poderosos para personaliza√ß√£o, automa√ß√£o e controle dos fluxos. Elas permitem que o bot adapte as intera√ß√µes ao perfil do cliente, torne a experi√™ncia mais fluida e traga mais efici√™ncia para os processos.

---

## ‚ÅâÔ∏è Perguntas Frequentes

<AccordionGroup>
  <Accordion title="O que s√£o vari√°veis em uma IDR?">
    S√£o par√¢metros din√¢micos que podem ser usados para personalizar mensagens, automatizar decis√µes e registrar dados durante o atendimento.
  </Accordion>
  <Accordion title="Como inserir uma vari√°vel no fluxo?">
    Utilize o formato `{{variavel}}` ou `@Variavel`, conforme especificado para cada tipo.
  </Accordion>
  <Accordion title="Qual a diferen√ßa entre vari√°veis globais e de base de dados?">
    Vari√°veis globais (prefixadas com `@`) podem ser usadas em qualquer parte do sistema, inclusive em HSMs. J√° as de base de dados s√£o exclusivas do contexto da IDR e do contato.
  </Accordion>
  <Accordion title="Para que servem as vari√°veis coringa?">
    Para armazenar informa√ß√µes personalizadas e tempor√°rias, √∫teis em campanhas e fluxos com dados vari√°veis por contato.
  </Accordion>
  <Accordion title="Posso usar vari√°veis de localiza√ß√£o ou t√©cnicas em fluxos?">
    Sim. `{{longitude/latitude}}`, `{{lastapiresponse}}`, entre outras, s√£o √∫teis para intera√ß√µes com APIs e bots mais avan√ßados.
  </Accordion>
  <Accordion title="√â poss√≠vel redirecionar o fluxo com vari√°veis?">
    Sim. A vari√°vel `@identificadororiginal` permite retornar para uma etapa anterior de ‚ÄúAguardar mensagem de resposta‚Äù.
  </Accordion>
</AccordionGroup>
