---
title: "Agendamento Relat√≥rio FTP"
sidebarTitle: "Relat√≥rio FTP"
description: "Este servi√ßo possibilita a gera√ß√£o automatizada de arquivos, permitindo que o cliente exporte relat√≥rios e os transfira de forma segura para um servidor FTP. A solu√ß√£o garante praticidade e efici√™ncia no armazenamento e compartilhamento das informa√ß√µes, facilitando a integra√ß√£o com outros sistemas e a consulta posterior dos arquivos.."
---

## Criando um Novo Agendamento

Para criar um agendamento acesse `Invenio Center >> Relat√≥rios >> Agendamentos`

[Acesse a p√°gina de agendamento de relat√≥rios](https://inveniocenter.robbu.global/painel/relatorios)

Ao acessar a aba de **Agendamentos**  clique em **Gerar Relat√≥rio**.

<img src="https://robbublob.blob.core.windows.net/docs/ftp_1.png" />

Escolha o formato de relat√≥rio desejado.

<img src="https://robbublob.blob.core.windows.net/docs/ftp_2.png" />

Defina os par√¢metros do relat√≥rio, como:
- **Per√≠odo**
- **Carteira**
- **KPI ‚Äì Eventos (caso o relat√≥rio seja de KPI Eventos)**
- **Usu√°rios**

<img src="https://robbublob.blob.core.windows.net/docs/ftp_3.png" />
<img src="https://robbublob.blob.core.windows.net/docs/ftp_4.png" />

---

## Configura√ß√£o do Agendamento via FTP

- Ap√≥s aplicar os filtros, inicie a configura√ß√£o do envio via **FTP**.
- O sistema permitir√° definir o **dia e hor√°rio** de envio do relat√≥rio.
- **Escolha o m√©todo de entrega:** selecione `FTP` ou, se necess√°rio, `E-mail`. Ao habilitar a op√ß√£o de e-mail, o arquivo tamb√©m ser√° enviado diretamente para sua caixa de entrada.

<img src="https://robbublob.blob.core.windows.net/docs/ftp_5.png" />

## Configura√ß√£o e preenchimento de campos do servidor

Para envio via FTP, ative a op√ß√£o **Enviar relat√≥rio por FTP** e configure os seguintes campos:

| **Campo**     | **Descri√ß√£o**                                                 |
|---------------|---------------------------------------------------------------|
| `Server`      | Host, IP ou link do servidor                                  |
| `User`        | Usu√°rio com permiss√£o para acessar a pasta de envios FTP      | 
| `Password`    | Senha de acesso √† pasta dos arquivos FTP                      |
| `Port`        | `FTP ‚Üí porta padr√£o 21` ou `SFTP ‚Üí porta padr√£o 22`           |
| `Encryption`  | Defina se o FTP usar√° criptografia segura (recomendado: TLS)  |
| `Protocol`    | Selecione FTP, SFTP ou S3 conforme a configura√ß√£o do servidor |

> ‚ö†Ô∏è **Aten√ß√£o**  
> - Ao configurar, **n√£o inclua** `https://` no in√≠cio da URL. Informe apenas o endere√ßo do servidor (ex.: `ftp.seudominio.com`).  
> - **N√£o utilize IPs privados** como host. Exemplos a evitar: `10.x.x.x`, `172.16.x.x` a `172.31.x.x`, `192.168.x.x`.

## Configura√ß√£o dos Campos do Servidor ‚Äì Protocolo S3

| **Campo**   | **Descri√ß√£o**                                                                  |
|-------------|--------------------------------------------------------------------------------|
| `Server`    | Endere√ßo do servidor no formato `s3.{REGI√ÉO}.amazonaws.com/{PASTA_DESTINO}`    |
| `User`      | Informe a **Access Key** da conta AWS                                          |
| `Password`  | Informe a **Secret Key** correspondente                                        |
| `Port`      | Utilize a porta `443`                                                          |
| `Protocol`  | Selecione o protocolo **S3**                                                   |

---

Caso sua empresa n√£o possua um servidor FTP, ao acessar `Configura√ß√µes >> Conta >> Gerenciar >> FTP`

<img src="https://robbublob.blob.core.windows.net/docs/ftp_12.png" />

Habilite o bot√£o **Habilitar transfer√™ncia de arquivos**

<img src="https://robbublob.blob.core.windows.net/docs/ftp_13.png" />

> ‚ö†Ô∏è **Aten√ß√£o**  
> O servidor disponibilizado pela **Invenio** √© do tipo **SFTP**. Portanto, inclua no in√≠cio da URL o prefixo `sftp://`.  
> **Exemplo:** `sftp://sarobbuinveniosftp.xyz.core.windows.net`  
> A porta utilizada para conex√£o √© a **22**.

---

## Organiza√ß√£o e Estrutura dos Relat√≥rios

Para facilitar a gest√£o dos arquivos, recomendamos a cria√ß√£o de um **diret√≥rio exclusivo** para os relat√≥rios.

<img src="https://robbublob.blob.core.windows.net/docs/ftp_8.png" />

No campo **Server**, inclua o nome do servidor + **diret√≥rio raiz** onde o arquivo ser√° armazenado.

<img src="https://robbublob.blob.core.windows.net/docs/ftp_9.png" />

> ‚ö†Ô∏è **Importante**  
> Se o servidor for **SFTP**, verifique se o protocolo correto est√° selecionado na configura√ß√£o do relat√≥rio.

--- 

## Finaliza√ß√£o e Valida√ß√£o
- Clique em **Agendar Relat√≥rio** para concluir o processo.
- O relat√≥rio ser√° enviado para o diret√≥rio **relat√≥rios** do servidor configurado.

<img src="https://robbublob.blob.core.windows.net/docs/ftp_10.png" />

Caso a gera√ß√£o n√£o seja bem-sucedida, o arquivo ser√° redirecionado para o diret√≥rio **descartados**.

<img src="https://robbublob.blob.core.windows.net/docs/ftp_11.png" />

> ‚ùó **Observa√ß√£o**  
> O Invenio possui um limite de cria√ß√£o de **oito relat√≥rios agendados** e o formato gerado √© **CSV**.

---

## üîó Links e assuntos relacionados

- [Relat√≥rios ‚Äî vis√£o geral e agendamentos](https://docs.robbu.global/docs/center/relatorios)
- [Carga FTP ‚Äî configura√ß√£o e boas pr√°ticas](https://docs.robbu.global/docs/center/carga-ftp)
- [Tipos de KPI ‚Äî sele√ß√£o para relat√≥rios](https://docs.robbu.global/docs/center/tipos-de-kpi)

---

## ‚ÅâÔ∏è Perguntas Frequentes (FAQ)

<AccordionGroup>
  <Accordion title="Posso receber o relat√≥rio por e-mail al√©m do FTP?">
    Sim. Ao selecionar o m√©todo de entrega <b>E-mail</b> junto ao <b>FTP</b>, o arquivo ser√° enviado automaticamente para a sua caixa de entrada al√©m do envio ao servidor configurado.
  </Accordion>

  <Accordion title="Quais protocolos e portas devo utilizar (FTP, SFTP, S3)?">
    Utilize <b>FTP (porta 21)</b> quando aplic√°vel, <b>SFTP (porta 22)</b> quando usar canal seguro com chave/usu√°rio e <b>S3 (porta 443)</b> para envio a buckets AWS seguindo o formato de servidor indicado.
  </Accordion>

  <Accordion title="Como devo preencher o campo Server? Posso usar https:// ou IP privado?">
    No <b>Server</b>, informe apenas o host (ex.: <code>ftp.seudominio.com</code>) e, se necess√°rio, inclua o diret√≥rio raiz de destino. <b>N√£o</b> inclua <code>https://</code> e <b>n√£o</b> utilize IPs privados (faixas 10.*, 172.16‚Äì31.*, 192.168.*).
  </Accordion>

  <Accordion title="Minha empresa n√£o tem FTP. Posso usar o SFTP da Invenio?">
    Sim. Em <b>Configura√ß√µes &gt;&gt; Conta &gt;&gt; Gerenciar &gt;&gt; FTP</b>, habilite <b>Transfer√™ncia de arquivos</b> e utilize o endpoint <b>SFTP</b> fornecido (prefixo <code>sftp://</code>, porta <b>22</b>).
  </Accordion>

  <Accordion title="Como configurar envio para Amazon S3?">
    Selecione o protocolo <b>S3</b> e preencha: <b>Server</b> no formato <code>s3.{REGI√ÉO}.amazonaws.com/{PASTA_DESTINO}</code>, <b>User</b> (Access Key), <b>Password</b> (Secret Key) e porta <b>443</b>.
  </Accordion>

  <Accordion title="Onde os arquivos ficam salvos e como validar o envio?">
    Ap√≥s agendar, os arquivos s√£o armazenados no diret√≥rio <b>relat√≥rios</b>. Em caso de falha na gera√ß√£o, s√£o movidos para <b>descartados</b>. Verifique o diret√≥rio no servidor e o hist√≥rico de agendamentos no Invenio Center.
  </Accordion>

  <Accordion title="H√° limite de agendamentos e qual o formato do arquivo?">
    Sim. O Invenio permite at√© <b>oito agendamentos</b> simult√¢neos por conta, e o formato gerado √© <b>CSV</b>.
  </Accordion>

  <Accordion title="Quais par√¢metros posso definir no relat√≥rio?">
    √â poss√≠vel definir <b>Per√≠odo</b>, <b>Carteira</b>, <b>KPI ‚Äì Eventos</b> (quando aplic√°vel) e <b>Usu√°rios</b> antes de configurar o envio por FTP/E-mail.
  </Accordion>

  <Accordion title="Preciso ajustar algo no diret√≥rio de destino?">
    Recomendamos criar um <b>diret√≥rio exclusivo</b> para os relat√≥rios. No campo <b>Server</b>, informe o host seguido do <b>diret√≥rio raiz</b> onde o arquivo ser√° armazenado.
  </Accordion>
</AccordionGroup>
