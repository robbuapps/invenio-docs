---
title: "Carteiro Digital API ‚Äì Documentos e Pix"
sidebarTitle: "Carteiro Digital API ‚Äì Documentos e Pix"
description: "Integre o envio de documentos e Pix pelo WhatsApp com autentica√ß√£o segura usando a API Carteiro Digital da Robbu."
---

## üì¨ Introdu√ß√£o

A **API Carteiro Digital** permite o envio automatizado de arquivos (como boletos, faturas, PDFs e Pix) via WhatsApp, com autentica√ß√£o do destinat√°rio.
Ideal para **comunica√ß√µes financeiras, contratuais e informativas**, essa integra√ß√£o garante **seguran√ßa, rastreabilidade e personaliza√ß√£o**.

---

## üîê Autentica√ß√£o

Antes de acessar a rota `/digitalpostman`, √© necess√°rio gerar um **token de autentica√ß√£o**.

### Requisi√ß√£o para obten√ß√£o do token

- **M√©todo:** `POST`
- **URL:** `https://api.robbu.global/v1/login`

#### Body Exemplo

```json
{
  "Company": "NOME_DA_EMPRESA",
  "Username": "USUARIO_API",
  "Password": "SENHAUSUARIO_API"
}
```

| Campo    | Descri√ß√£o                                                                 |
|----------|---------------------------------------------------------------------------|
| Company  | Nome do ambiente utilizado no login da plataforma                        |
| Username | Nome do usu√°rio com grupo de acesso "Integra√ß√£o API"                     |
| Password | Senha do usu√°rio                                                         |

> ‚ö†Ô∏è O token n√£o precisa ser gerado a cada requisi√ß√£o. Ele possui um tempo de expira√ß√£o (`expires_in`) que, por padr√£o, pode durar at√© 3333 dias.

Se a API retornar:
```json
{
  "title": "Unauthorized"
}
```
Ser√° necess√°rio renovar o token.

---

## üìÑ Envio de Documento via WhatsApp

### Requisi√ß√£o para envio

- **M√©todo:** `POST`
- **URL:** `https://api.robbu.global/v2/digitalpostman`

#### Body Exemplo
```json
{
  "senderName": "Robbu",
  "contactName": "Robbu Teste",
  "contactId": "11122233344",
  "walletCode": "CarteiraTeste",
  "contactPhoneNumber": "5531993307121",
  "invalidTokenMessage": "Op√ß√£o inv√°lida!\r\n\r\nAqui est√£o os nossos canais de atendimento:\r\nüìû551131362846",
  "instructionsMessage": "*Tem d√∫vidas? Fale com a Robbu:üòÄ*\r\nüìû551131362846",
  "documentCollection": [
    {
      "documentCode": "1946753214860",
      "documentFileName": "boleto.pdf",
      "documentBase64": "JVBERi0xLjMKJcTl8uXrp..."
    }
  ]
}
```

### Par√¢metros Principais

| Campo                | Tipo    | Obrigat√≥rio | Descri√ß√£o                                                                                  |
|----------------------|---------|-------------|--------------------------------------------------------------------------------------------|
| senderName           | String  | Sim         | Nome do remetente (exibido ao destinat√°rio)                                               |
| contactName          | String  | Sim         | Nome completo do destinat√°rio                                                             |
| contactId            | String  | Sim         | CPF/CNPJ do destinat√°rio. Usado para autentica√ß√£o (3 primeiros d√≠gitos)                   |
| walletCode           | String  | Sim         | C√≥digo da carteira cadastrada no Invenio                                                  |
| contactPhoneNumber   | String  | Sim         | WhatsApp com DDI + DDD (ex: 5511999999999)                                                |
| invalidTokenMessage  | String  | Sim         | Mensagem para token inv√°lido. Quebras de linha: `\r\n` / Emojis: c√≥digo decimal           |
| instructionsMessage  | String  | Sim         | Mensagem de orienta√ß√£o. Suporta formata√ß√£o, quebras de linha e emojis                    |
| documentCollection   | Array   | Sim         | Lista de documentos a serem enviados                                                      |

### Estrutura do campo `documentCollection`

| Campo            | Tipo    | Obrigat√≥rio | Descri√ß√£o                                                                 |
|------------------|---------|-------------|---------------------------------------------------------------------------|
| documentCode     | String  | Sim         | Linha digit√°vel do boleto ou c√≥digo Pix                                   |
| documentFileName | String  | Sim         | Nome do arquivo com extens√£o (ex: boleto.pdf, qrcode.png)                 |
| documentBase64   | String  | Sim         | Arquivo codificado em Base64 (documento ou imagem)                        |
| documentValue    | String  | N√£o         | Valor do documento (obrigat√≥rio apenas para Pix)                          |

> üí° Use um encoder online para converter seu arquivo PDF em Base64.
> O tamanho do arquivo deve respeitar os limites da plataforma.

---

## ‚úÖ Retornos (Response)

| C√≥digo | Descri√ß√£o                                        |
|--------|--------------------------------------------------|
| 200    | Mensagem enviada com sucesso                     |
| 400    | Par√¢metros inv√°lidos ou malformados              |
| 500    | Erro interno no envio da mensagem                |

---

## üîé Exemplo de Valida√ß√£o por Token

Se o `contactId` for `11122233344`, o sistema enviar√° a mensagem ao contato e solicitar√° a confirma√ß√£o dos 3 primeiros d√≠gitos: `111`. A partir dessa valida√ß√£o, o contato conseguir√° acessar o arquivo.

> üìå Este processo √© igual tanto para documentos quanto para **Pix**. A diferen√ßa est√° na estrutura do `documentCollection`.

Para Pix:
- O campo `documentValue` √© obrigat√≥rio.

---

## üìö FAQ

### 1. Preciso gerar um token para cada requisi√ß√£o?
N√£o. O token pode durar at√© **3333 dias**. S√≥ √© necess√°rio renovar se for retornado `"Unauthorized"` pela API.

### 2. Posso enviar mais de um documento?
Sim. Basta adicionar m√∫ltiplos objetos dentro do array `documentCollection`.

### 3. Como fa√ßo para converter meu PDF para Base64?
Voc√™ pode usar qualquer ferramenta online de convers√£o como: https://www.base64-image.de/ ou https://www.browserling.com/tools/file-to-base64

### 4. E se o usu√°rio digitar o token incorretamente?
A mensagem configurada em `invalidTokenMessage` ser√° exibida.

### 5. Posso enviar Pix usando essa API?
Sim! Basta preencher o campo `documentValue` e o `documentCode` com o c√≥digo Pix (ex: QR Code codificado).

---

> A **API Carteiro Digital** oferece uma solu√ß√£o pr√°tica e segura para envio de documentos via WhatsApp, com valida√ß√£o do destinat√°rio e total rastreabilidade.


